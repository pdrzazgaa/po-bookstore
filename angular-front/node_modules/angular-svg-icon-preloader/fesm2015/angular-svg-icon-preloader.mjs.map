{"version":3,"file":"angular-svg-icon-preloader.mjs","sources":["../../../../libs/angular-svg-icon-preloader/src/lib/angular-svg-icon-preloader-config.class.ts","../../../../libs/angular-svg-icon-preloader/src/lib/angular-svg-icon-preloader/angular-svg-icon-preloader.service.ts","../../../../libs/angular-svg-icon-preloader/src/lib/angular-svg-icon-preloader.module.ts","../../../../libs/angular-svg-icon-preloader/src/angular-svg-icon-preloader.ts"],"sourcesContent":["export class AngularSvgIconPreloaderConfig {\n  configUrl: string;\n\n  constructor() {}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable, Optional } from '@angular/core';\nimport { SvgIconRegistryService } from 'angular-svg-icon';\nimport { Subject } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { AngularSvgIconPreloaderConfig } from '../angular-svg-icon-preloader-config.class';\nimport { CustomIconData, IconImageFile } from '../icon.interface';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class AngularSvgIconPreloaderService {\n\tprivate configUrl: string = './assets/icons.json';\n\tprivate iconsFileData: {\n\t\ticonImageFiles: IconImageFile[];\n\t\tcustomIcons: CustomIconData[];\n\t};\n\tpublic configSubject: Subject<any> = new Subject<any>();\n\n\tconstructor(\n\t\tprivate _http: HttpClient,\n\t\t@Optional() config: AngularSvgIconPreloaderConfig,\n\t\tprivate _iconRegistry: SvgIconRegistryService\n\t) {\n\t\tif (config && config.configUrl) {\n\t\t\tthis.configUrl = config.configUrl;\n\t\t}\n\t}\n\n\tloadConfig(): Promise<any> {\n\t\treturn this._http\n\t\t\t.get(this.configUrl)\n\t\t\t.toPromise()\n\t\t\t.then(\n\t\t\t\t(configData: {\n\t\t\t\t\ticonImageFiles: IconImageFile[];\n\t\t\t\t\tcustomIcons: CustomIconData[];\n\t\t\t\t}) => {\n\t\t\t\t\tthis.iconsFileData = configData;\n\t\t\t\t\tthis.loadIcons();\n\t\t\t\t}\n\t\t\t)\n\t\t\t.catch((err: any) => {\n\t\t\t\tconsole.error(\n\t\t\t\t\t'An error occurred loading the icons:\\n',\n\t\t\t\t\terr,\n\t\t\t\t\t'\\nNo icons will be loaded.'\n\t\t\t\t);\n\t\t\t\tthis.iconsFileData = { customIcons: [], iconImageFiles: [] };\n\t\t\t\tthis.loadIcons();\n\t\t\t});\n\t}\n\n\tloadIcons() {\n\t\tthis.iconsFileData.iconImageFiles.forEach((i: IconImageFile) => {\n\t\t\tthis._iconRegistry\n\t\t\t\t.loadSvg(i.iconPath, i.iconName)\n\t\t\t\t.pipe(take(1))\n\t\t\t\t.subscribe();\n\t\t});\n\t\tthis.iconsFileData.customIcons.forEach((i: CustomIconData) => {\n\t\t\tthis._iconRegistry.addSvg(i.iconName, i.iconData);\n\t\t});\n\t}\n}\n","import { CommonModule } from '@angular/common';\nimport { APP_INITIALIZER, ModuleWithProviders, NgModule } from '@angular/core';\nimport { AngularSvgIconPreloaderConfig } from './angular-svg-icon-preloader-config.class';\nimport { AngularSvgIconPreloaderService } from './angular-svg-icon-preloader/angular-svg-icon-preloader.service';\n\nexport function initConfig(svgSvc: AngularSvgIconPreloaderService) {\n  return () => svgSvc.loadConfig();\n}\n\n@NgModule({\n  imports: [CommonModule],\n  providers: [\n    AngularSvgIconPreloaderService,\n    {\n      provide: APP_INITIALIZER,\n      useFactory: initConfig,\n      deps: [AngularSvgIconPreloaderService],\n      multi: true,\n    },\n  ],\n})\nexport class AngularSvgIconPreloaderModule {\n  static forRoot(\n    config: AngularSvgIconPreloaderConfig\n  ): ModuleWithProviders<AngularSvgIconPreloaderModule> {\n    return {\n      ngModule: AngularSvgIconPreloaderModule,\n      providers: [\n        {\n          provide: AngularSvgIconPreloaderConfig,\n          useValue: config,\n        },\n        AngularSvgIconPreloaderService,\n      ],\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i2.AngularSvgIconPreloaderConfig"],"mappings":"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"}